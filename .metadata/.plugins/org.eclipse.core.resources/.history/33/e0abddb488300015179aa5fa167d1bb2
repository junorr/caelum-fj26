package br.com.caelum.notasfiscais.bean;

import java.io.Serializable;

import javax.enterprise.context.RequestScoped;
import javax.inject.Inject;
import javax.inject.Named;

import br.com.caelum.notasfiscais.dao.UsuarioDao;
import br.com.caelum.notasfiscais.modelo.Usuario;

@Named(value="login")
@RequestScoped
public class LoginBean implements Serializable {

	private static final long serialVersionUID = -5691869800662132153L;

	
	private Usuario user = new Usuario();
	
	@Inject private UsuarioDao dao;
	
	private String message = "";
	
	
	public Usuario getUser() {
		return user;
	}
	
	
	public String getMessage() {
		return message;
	}
	
	
	public String login() {
		if(dao.existe(user)) {
			message = "";
			return WebPage.PRODUTO.toString();
		}
		message = "Credenciais Inv√°lidas!";
		return null;
	}
	
	
	public String logout() {
		user = new Usuario();
		return WebPage.LOGIN.toString();
	}
	
}
